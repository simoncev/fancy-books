<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:html="http://www.w3.org/1999/xhtml"
    controllerName="com.spaiens.fancybook.controller.Book"
    displayBlock="true"
>
    <Page
        id="page"
        title="{i18n>title}"
    >
        <content>
            <Table
                noDataText="No Data in table"
                id="bookList"
                headerText="Fancy Books"
                items="{books>/ZBOOKS_DETAILSSet}"
            >
                <headerToolbar>
                    <OverflowToolbar>
                        <content>
                            <ToolbarSpacer />
                            <Button
                                id="createBooksButton"
                                text="New Book"
                                icon="sap-icon://create"
                                press=".onCreate"
                            />
                            <CheckBox
                                id="isDownloadId"
                                text="Download link"
                                selected="{bookModel>/ui/download}"
                                select=".checkDownload"
                            />
                            <SearchField
                                id="searchField"
                                width="20%"
                                search=".onSearch"
                            />
                            <Button
                                id="sortBooksButton"
                                icon="sap-icon://sort"
                                press=".onSort"
                            />
                            <Label text="{bookModel>/ui/order}" />
                        </content>
                    </OverflowToolbar>
                </headerToolbar>
                <items>
                    <ColumnListItem
                        type="Active"
                        id="item0"
                    >
                        <cells>
                         <Button
                                xmlns="sap.m"
                                text="Edit"
                                id="bookEdit"
                                icon="sap-icon://edit"
                                press="onEdit"
                            />
                            <Button
                                xmlns="sap.m"
                                text="Delete"
                                id="bookDelete"
                                icon="sap-icon://delete"
                                press="onDelete"
                            />
                            <Link
                                text="DOWNLOAD: {books>Name} with link {books>Link}"
                                target="_blank"
                                href="{books>Link}"
                                id="bookLink"
                                enabled="{=${books>Link} === '' ? false: true}"
                                visible="{=${bookModel>/ui/download} === true}"
                            />
                            <Button
                                text="PLAY: {books>Name}"
                                id="bookButton"
                                enabled="{=${books>Link} === '' ? false: true}"
                                visible="{=${bookModel>/ui/download} === false}"
                            />
                            <Text
                                text="{=${books>Link} === '' ?'No Link': ${books>Link}}"
                                id="urlText"
                            />
                           
                        </cells>
                    </ColumnListItem>
                </items>
                <columns>
                    <Column id="column2" width="5%">
                        <header>
                            <Label
                                text="Edit"
                                id="label2"
                            />
                        </header>
                    </Column>
                    <Column id="column3" width="5%">
                        <header>
                            <Label
                                text="Delete"
                                id="label3"
                            />
                        </header>
                    </Column>
                    <Column
                        id="column0"
                        visible="{=${bookModel>/ui/download} === true}"
                        width="40%"
                    >
                        <header>
                            <Label
                                text="Name"
                                id="label0"
                            />
                        </header>
                    </Column>
                    <Column
                        id="column1"
                        visible="{=${bookModel>/ui/download} === false}"
                        width="50%"
                    >
                        <header>
                            <Label
                                text="Link"
                                id="label1"
                            />
                        </header>
                    </Column>
                    
                </columns>
            </Table>
        </content>
    </Page>
</mvc:View>
